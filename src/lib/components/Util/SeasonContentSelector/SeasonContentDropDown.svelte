<script lang="ts">
	import Select from '$lib/components/Select/Select.svelte';
	import { seasonContentShown } from '$lib/stores/singleValueStores';
	import type { SelectMenuOption } from '$lib/types';

	export let width = '100%';
	const options: SelectMenuOption[] = [
		{ text: 'Standings', value: 'standings', optionNumber: 1, active: false },
		{ text: 'Team Batting Stats', value: 'team-bat', optionNumber: 2, active: false },
		{ text: 'Team Pitching Stats', value: 'team-pitch', optionNumber: 3, active: false }
	];
	const menuId = 'season-content';
	let selectedOption: SelectMenuOption;

	$: selectedOption = options.filter((item) => item.value === $seasonContentShown)?.[0];
	$: menuLabel = selectedOption?.text || '';

	function findActiveItem() {
		const match = options.filter((item) => item.value === $seasonContentShown);
		if (match?.length === 1) {
			match['active'] = true;
		}
	}

	findActiveItem();
</script>

<Select {menuLabel} {options} {menuId} {width} on:changed={(event) => ($seasonContentShown = event.detail)} />
